---
layout: post
title:  "VisualStudio : 01. 정적 라이브러리 생성하기"
summary: "정적 라이브러리 만들고 사용하기"
author: Eussy
date: '2022-09-06 18:30:00 +0530'
category: '00_VisualStudio'
tags: Eussy
thumbnail: /assets/img/posts/code.jpg
keywords: VisualStudio, VS, Library, StaticLibrary
usemathjax: true
permalink: /blog/00_VS/StaticLibrary
---

## 정적 라이브러리(Static Library) 만들기
<p> 라이브러리는 코드 재사용이나 기능들을 정리할때 매우 유용하다. 따라서 라이브러리를 관리하는 것은 매우 중요하다고 할 수 있다. 이번 장에서는 정적 라이브러리(.lib)를 생성, 적용시키는 방법과 자동으로 빌드하고 관리하는 법까지 알아보록 하겠다.</p>

### 1. 프로젝트 만들기

 <img src="1.png">

 <p> 프로젝트 생성시 Window 데스크탑 마법사에서 정적 라이브러리 선택해서 만들도록 한다. </p>

 ### 2. 프로젝트 속성 설정하기

 <img src="2.png">

 <p>우선 출력 디렉터리와 중간 디렉터리를 설정해준다. </p>

 <img src="3.png">
 <p>C/C++ 에서 라이브러리에서 사용할 헤더들의 위치를 추가 포함 디렉터리에 추가해준다.</p>

 <img src="4.png">
  <p>
 다음은 라이브러리 관리자에서 출력 파일 부분을 설정해보자. 저 부분은 원래는 출력 디렉토리에 프로젝트 이름 그대로 lib파일을 생성하도록 되어 있는데 우선 이 라이브러리의 경우 프로젝트 경로에 바로 lib파일을 생성하도록 설정해두었다.
  </p>

  <img src="5.png">
  <p>
 빌드를 하면 자동으로 헤더파일들과 라이브러리 파일을 지정한 폴더에 복사하도록 빌드 이벤트 -> 빌드 후 이벤트를 설정해두었다. 이렇게 해두면 수정하고 빌드를 하자마자 바로 수정된 라이브러리를 사용할 수 있다.
  </p>

  ### 3. 테스트 프로젝트 만들어 라이브러리 관리하기

 <img src="6.png">

 <p> 
프로젝트에서 참조 추가를 통해 라이브러리가 수정되면 바로 수정된 라이브러리를 먼저 빌드해 수정된 라이브러리를 재생성하도록 할 수 있다.
 </p>

<img src="7.png">

 <p> 
추가 포함 디렉토리를 설정한다.
 </p>
 
 <img src="8.png">

 <p> 
추가 라이브러리 디렉토리를 설정한다.
 </p>
 
 <img src="9.png">

 <p> 
마지막으로 추가 종속성을 설정한다. 이로써 모든 과정이 완료되었다.
 </p>

 ### 4. 라이브러리 사용 시 주의할 점

 <p>
 라이브러리에서 #define 을 통해 설정을 하면 이미 빌드가 되어서 기계어 처리가 되기 때문에 라이브러리를 쓰는 프로젝트에서는 이 전처리를 제어하려고 해도 제어가 되지 않는다. 따라서 라이브러리 안에서 버전, 플랫폼을 바꿔가면서 하려면 전처리 자체를 라이브러리 헤더에서 설정 해야할 것 같다.
 </p>